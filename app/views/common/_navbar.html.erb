<nav class='navbar navbar-default' role=' navigation'>
  <!-- Brand and toggle get grouped for better mobile dispaly -->
  <div class='navbar-header'>
    <a class='navbar-brand' href='/'><%= image_tag('logo.png') %>Jump!</a>
  </div>

  <!-- Collect the nav links, forms, and other content for toggle -->
  <div class='collapse navbar-collapse' id='bs-example-navbar-collapse-1'>
    <ul class='nav navbar-nav'>
      <!-- <li>
        <a href="/jobs">职位</a>
      </li> -->
    </ul>
    <ul class='nav navbar-nav navbar-right'>
      <% if !current_user %>
      <li>
        <a href="#" data-toggle="modal" data-target="#signup-modal">注册</a>
      </li>
      <li>
        <a href="#" data-toggle="modal" data-target="#login-modal">登入</a>
      </li>
    <% else %>
      <% if current_user.admin? %>
      <li>
        <a class="btn btn-default btn-outline btn-circle" data-toggle="collapse" href="/admin/jobs" aria-expanded="false" aria-controls="nav-collapse1">
          <i class="fa fa-cog"></i>&nbsp;管理职位</a>
      </li>
    <% else %>
      <li>
        <a class="btn btn-default btn-outline btn-circle" data-toggle="collapse" href="/jobs/new" aria-expanded="false" aria-controls="nav-collapse1">
          <i class="fa fa-plus-square-o"></i>&nbsp;发布职位</a>
      </li>
      <% end %>

      <li class='dropdown'>
        <a href='#' class='dropdown-toggle' data-toggle='dropdown'><%= current_user.email %>
          <span class='caret'></span>
        </a>
        <ul class='dropdown-menu' role='menu'>
          <% if current_user.admin? %>
          <li><%= link_to('管理职位', admin_jobs_path) %></li>
        <% else %>
          <li><%= link_to('收藏列表', account_jobs_path) %></li>
          <% end %>
          <li class='divider'></li>
          <li><%= link_to('退出', destroy_user_session_path, method: :delete) %></li>
        </ul>
      </li>
      <% end %>
    </ul>
  </div>

</nav>
<div class="modal fade" id="login-modal" tabindex="-1" role="dialog" backdrop="true" data-keyboard="true" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog" role="document">
    <div class="loginmodal-container">
      <h2 class="text-primary text-center">登入</h2>
      <%= simple_form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
      <div class="form-inputs">
        <%= f.input :email, label:"邮箱：", required: false, autofocus: true %>
        <%= f.input :password, label:"密码：", required: false %>
        <%= f.input :remember_me, label: "保持登入", as: :boolean if devise_mapping.rememberable? %>
      </div>
      <div class="form-actions">
        <%= f.button :submit, "登入", class:"btn btn-primary" %>
      </div>
      <% end %>
    </div>
  </div>
</div>

<div class="modal fade" id="signup-modal" tabindex="-1" role="dialog" backdrop="true" data-keyboard="true" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="loginmodal-container">
      <h2 class="text-primary text-center">注册</h2>
      <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
      <%= f.error_notification %>
      <div class="form-inputs">
        <%= f.input :email, label:"邮箱：", required: true, autofocus: true %>
        <%= f.input :password, label:"密码：", required: true, hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length) %>
        <%= f.input :password_confirmation, label:"再次输入密码：", required: true %>
      </div>
      <div class="form-actions">
        <%= f.button :submit, "注册", class:"btn btn-primary" %>
      </div>
      <% end %>
    </div>
  </div>
</div>
